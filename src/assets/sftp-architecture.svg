<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="960" height="420" viewBox="0 0 960 420">
  <style>
    .box { fill:#ffffff; stroke:#2b3640; stroke-width:2; rx:8; }
    .label { font-family: Inter, Arial, sans-serif; fill:#0f1724; font-size:14px; }
    .sub { font-family: Inter, Arial, sans-serif; fill:#475569; font-size:12px; }
    .arrow { stroke:#0f1724; stroke-width:2; fill:none; marker-end: url(#arrowhead);} 
    .cloud { fill:#eef2ff; stroke:#6366f1; stroke-width:1.5; rx:12; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0f1724" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="24" y="28" class="label" style="font-weight:700; font-size:16px;">Sanitized architecture — SFTP file transfer (CSV offload)</text>

  <!-- Left: Data Warehouse export -->
  <rect x="24" y="60" width="160" height="64" class="cloud"/>
  <text x="104" y="92" text-anchor="middle" class="label">Data Warehouse</text>
  <text x="104" y="108" text-anchor="middle" class="sub">(exports CSV)</text>

  <!-- Arrow to S3 -->
  <path class="arrow" d="M184 92 L260 92" />

  <!-- S3 staging -->
  <rect x="260" y="60" width="160" height="64" class="box"/>
  <text x="340" y="82" text-anchor="middle" class="label">S3 (staging)</text>
  <text x="340" y="98" text-anchor="middle" class="sub">CSV offload object store</text>

  <!-- S3 event to Lambda -->
  <path class="arrow" d="M420 92 L480 92" />

  <!-- Lambda processing -->
  <rect x="480" y="38" width="160" height="108" class="box"/>
  <text x="560" y="70" text-anchor="middle" class="label">Lambda Processor</text>
  <text x="560" y="88" text-anchor="middle" class="sub">validation • metadata</text>
  <text x="560" y="104" text-anchor="middle" class="sub">idempotency • enqueue</text>

  <!-- Optional queue -->
  <rect x="480" y="158" width="120" height="48" class="box"/>
  <text x="540" y="184" text-anchor="middle" class="label">SQS (buffer)</text>
  <path class="arrow" d="M540 146 L540 158" />

  <!-- Arrow from Lambda to Transfer component -->
  <path class="arrow" d="M640 92 L720 92" />

  <!-- VPC / Transfer component -->
  <rect x="720" y="36" width="200" height="140" rx="12" fill="#fff7ed" stroke="#f97316" stroke-width="1.8"/>
  <text x="820" y="58" text-anchor="middle" class="label">Transfer Component (in VPC)</text>
  <text x="820" y="76" text-anchor="middle" class="sub">secure outbound connectivity</text>
  <text x="820" y="96" text-anchor="middle" class="sub">SFTP client / connector</text>

  <!-- Arrow out to Partner SFTP -->
  <path class="arrow" d="M920 92 L980 92" transform="translate(-40,0)" />

  <!-- Partner SFTP -->
  <rect x="860" y="60" width="160" height="64" class="cloud"/>
  <text x="940" y="82" text-anchor="middle" class="label">Partner SFTP</text>
  <text x="940" y="98" text-anchor="middle" class="sub">external endpoint</text>

  <!-- Security / IAM note -->
  <rect x="24" y="220" width="220" height="64" class="box"/>
  <text x="134" y="244" class="label">Security & Controls</text>
  <text x="134" y="262" class="sub">IAM roles • least privilege</text>
  <text x="134" y="278" class="sub">VPC isolation • TLS in transit</text>

  <!-- Observability -->
  <rect x="260" y="220" width="220" height="64" class="box"/>
  <text x="370" y="244" class="label">Observability</text>
  <text x="370" y="262" class="sub">Structured logs • metrics • alerts</text>

  <!-- Legend -->
  <text x="24" y="340" class="sub">Diagram is sanitized — no internal hostnames, ARNs, or secrets are shown.</text>

</svg>